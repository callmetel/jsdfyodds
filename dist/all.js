var introgif,loopgif,$vid="/assets/vid/",$img="/assets/img/",$win=$(window),$fs=$(".fs"),preloaderloop=!0,preloaderTL=gsap.timeline({paused:!0,repeat:-1,delay:0}),introTL=gsap.timeline({paused:!0,delay:1}),scrollTL=gsap.timeline({paused:!0}),count=1,videosloaded=!1;if($win.width()>767){function loadVideos(){if(!1===videosloaded){var o=new XMLHttpRequest;o.open("GET",$vid+"intro.mp4",!0),o.responseType="blob",o.onload=function(){if(200===this.status){var o=this.response,e=URL.createObjectURL(o);$("#intro-video").attr("src",e),videosloaded=!0}},o.onerror=function(){},o.send();var e=new XMLHttpRequest;e.open("GET",$vid+"bg-loop.mp4",!0),e.responseType="blob",e.onload=function(){if(200===this.status){var o=this.response,e=URL.createObjectURL(o);$("#bg-loop").attr("src",e)}},e.onerror=function(){},e.send()}}function parallaxIt(o,e,a){var r=$("#main-content"),t=o.pageX-r.offset().left,i=o.pageY-r.offset().top;gsap.to(e,{duration:1,x:(t-r.width()/2)/r.width()*a,y:(i-r.height()/2)/r.height()*a})}loadVideos(),$("body").mousemove((function(o){parallaxIt(o,"#background",-20)}))}else{function loadGifs(){$("#background .mobile").prepend('<script src="dist/vendor/libgif.js"><\/script>'),$("#background .mobile").prepend('<script src="dist/vendor/rubbable.js"><\/script>'),$("#intro-video-mobile").attr("src",$vid+"intro.gif"),$("#bg-loop-mobile").attr("src",$vid+"bg-loop.gif"),(introgif=new SuperGif({gif:document.getElementById("intro-video-mobile"),loop_mode:!1,auto_play:0})).load((function(){console.log("intro gif loaded"),introgif.pause(),introgif.move_to(0),videosloaded=!0})),(loopgif=new SuperGif({gif:document.getElementById("bg-loop-mobile"),loop_mode:!0,auto_play:0})).load((function(){console.log("loop gif loaded"),loopgif.move_to(0)}))}$(".desktop").hide(),$win.resize((function(o){$fs.height($(this).innerHeight())})).resize(),loadGifs()}var $cursor=$(".cursor"),$wrapper=$("#main-content");function movecursor(o){gsap.to($cursor,{duration:.3,css:{left:o.pageX,top:o.pageY}})}var flag=!1;$($wrapper).mouseover((function(){flag=!0,gsap.to($cursor,{duration:.4,scale:1,autoAlpha:1}),$($wrapper).on("mousemove",movecursor)})),$($wrapper).mouseout((function(){flag=!1,gsap.to($cursor,{duration:.4,scale:.1,autoAlpha:0})})),jQuery(document).ready((function(o){o("#social-links");var e=o("#social-links .social-trigger"),a=o("#social-links .social-icons");e.click((function(o){o.preventDefault(),a.animate({width:"toggle"}),e.toggleClass("closed")})).click()})),jQuery(document).ready((function(o){var e;introTL.to(".words-loader",{duration:1,y:"-20%",ease:"power4.inOut"}).to(".percentage-loader",{duration:.5,y:"-60%",ease:"power4.inOut",delay:-.8}).to(".words-loader",{duration:.25,alpha:0,ease:"sine.in",delay:-.5}).to(".percentage-loader",{duration:.25,alpha:0,ease:"sine.in",delay:-.5}).to("#preloader",{duration:.25,alpha:0,ease:"sine.in",delay:-.25}).add((function(){if(o(window).width()>767){var e=o("#intro-video");o("#preloader").hide(),e[0].play(),e.on("ended",(function(){console.log("intro video ended"),o("#bg-loop")[0].play(),e.fadeOut(400),e.hide(),scrollTL.play()}))}else{e=o("#background .mobile .jsgif:eq(0)");o("#preloader").hide(),introgif.play();var a=setInterval((function(){introgif.get_length()-1==introgif.get_current_frame()&&(console.log("intro gif ended"),clearInterval(a),e.fadeOut(400),e.hide(),loopgif.play(),scrollTL.play())}),10)}})),o(window).resize((function(){e=-Math.abs(o(".scroll-indicator .line").height()+10)})).resize(),scrollTL.fromTo("#logo",{alpha:0},{alpha:1,duration:.85}).fromTo(".scroll-indicator .line",{alpha:0},{alpha:1,duration:.1,delay:.2}).fromTo(".scroll-indicator .line",{y:-e},{y:0,ease:"power2.out",duration:.4}).fromTo(".scroll-indicator .hint",{alpha:0},{alpha:1,ease:"sine.inOut",duration:.65}).to("#main-header",{x:0,ease:"power2.out",duration:.25,delay:.15}).to("#social-links",{alpha:1,ease:"power2.out",duration:.35})})),jQuery(document).ready((function(o){for(var e,a,r=o(".words-loader .word"),t=0;t<=r.length;t++){var i=t+1;o(".words-loader .word:eq("+t+")").addClass("word-"+i)}function n(r){if(e=o(".word-"+r),6==r){var t=String(parseInt(r)-5);a=o(".word-"+t)}else{t=String(parseInt(r)+1);a=o(".word-"+t)}}var l=window.performance.timing,d=-(l.loadEventEnd-l.navigationStart),s=100*parseInt(d/1e3%60);!function(r,t,i,n){var l=i-t,d=t,s=i>t?1:-1,p=Math.abs(Math.floor(n/l)),u=o(r),c=setInterval((function(){d<i-1?(d+=s,o(u).text(d+"%")):d==i-1&&1==videosloaded&&(o(u).text(d+1+"%"),preloaderloop=!1,preloaderTL.pause(),console.log("preloader finished"),gsap.to(e,{duration:.1,alpha:0,ease:"expo.out"}),gsap.to(a,{duration:.1,alpha:1,ease:"expo.out"}),console.log("start intro"),introTL.play(),clearInterval(c))}),p)}(o("#percent"),0,100,s),preloaderTL.to(".words-loader .word-1",{duration:.075,alpha:1,ease:"expo.out",onComplete:n,onCompleteParams:["1"]}).to(".words-loader .word-1",{duration:.075,alpha:0,ease:"expo.out",delay:.15}).fromTo(".words-loader .word-2",{alpha:0,ease:"expo.out"},{duration:.075,alpha:1,ease:"expo.out",onComplete:n,onCompleteParams:["2"]}).to(".words-loader .word-2",{duration:.075,alpha:0,ease:"expo.out",delay:.15}).fromTo(".words-loader .word-3",{alpha:0,ease:"expo.out"},{duration:.075,alpha:1,ease:"expo.out",onComplete:n,onCompleteParams:["3"]}).to(".words-loader .word-3",{duration:.075,alpha:0,ease:"expo.out",delay:.15}).fromTo(".words-loader .word-4",{alpha:0,ease:"expo.out"},{duration:.075,alpha:1,ease:"expo.out",onComplete:n,onCompleteParams:["4"]}).to(".words-loader .word-4",{duration:.075,alpha:0,ease:"expo.out",delay:.15}).fromTo(".words-loader .word-5",{alpha:0,ease:"expo.out"},{duration:.075,alpha:1,ease:"expo.out",onComplete:n,onCompleteParams:["5"]}).to(".words-loader .word-5",{duration:.075,alpha:0,ease:"expo.out",delay:.15}).fromTo(".words-loader .word-6",{alpha:0,ease:"expo.out"},{duration:.075,alpha:1,ease:"expo.out",onComplete:n,onCompleteParams:["6"]}).to(".words-loader .word-6",{duration:.075,alpha:0,ease:"expo.out",delay:.15}),preloaderTL.play()}));